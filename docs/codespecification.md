# 代码规范

统一代码规范，使用`eslint`执行静态检查，代码规范通过以下措施保证效果：

  - 统一的`eslint`规则
  - 提交代码前执行代码检查
  - 代码审查

## ESlint 规则

统一使用`eslint`规则: [eslint-config-mints](https://www.npmjs.com/package/eslint-config-mints)

安装依赖库：

```bash
npm install eslint eslint-config-mints --save-dev
```

在项目中添加`.eslintrc.js`文件:

```js
module.exports = {
  extends: 'mints',
};
```

### 提交代码之前执行检查

引入`husky`，强制要求必须通过`eslint`检查的代码才能够提交

```bash
npm install husky --save-dev
```

配置`package.json`文件

```json
{
  "scripts": {
    "precommit": "eslint"
  }
}
```

## HTML

### 风格
  
  - **【必须】** 使用`2`个空格作为缩进.
  - **【必须】** 类名使用全字母小写单词，以`-`分割.
  - **【必须】** 类名语义化，不得以样式信息命名.
  - **【必须】** 元素`ID`保证页面的唯一性.
  - **【必须】** 标签名使用小写字母，并且保证正确的嵌套.
  - **【必须】** 属性名使用小写字母，值使用双引号.
  - **【建议】** 布尔类型的属性，不用添加属性值.
  - **【建议】** 自定义属性以`data-`开头.
  - **【建议】** 无需自闭合的标签尽量保证自闭合.
  - **【建议】** 减少不必要的标签.

### 其他

  - **【必须】** 使用`html5`的`doctype`来启用标准模式.
  - **【必须】** 明确指定页面字符编码，指定编码的`meta`必须是`head`标签的首个子元素.
  - **【必须】** 页面必须包含`title`元素声明标题.
  - **【必须】** 在`html`标签上设置正确的`lang`属性.
  - **【必须】** 引入`CSS`文件必须指明`ref="stylesheet"`.
  - **【必须】** 在`head`标签中引入所有的`CSS`资源.
  - **【必须】** 在`body`标签的最后引入`JS`资源，或者采用异步加载的方式引入.
  - **【建议】** 引入`CSS`和`JS`无需指明`type`属性.

## CSS

### 风格

  - **【必须】** 使用`2`个空格作为缩进.
  - **【必须】** 使用`-`连接多个单词，而不是驼峰命名法.
  - **【必须】** 一个规则声明有多选择器时，每个选择器独占一行.
  - **【必须】** 选择器后，`{`之前需有一个空格，`}`独占一行.
  - **【必须】** 每个属性独占一行.
  - **【必须】** 样式声明顺序严格按照定位属性和自身属性排列.
  - **【必须】** 选择器使用类，`ID`给`JS`预留.
  - **【建议】** 避免使用属性选择器`[class^="..."]`.
  - **【建议】** 选择器嵌套层级不大于`3`级.
  - 

### 其他

  - **【必须】** `CSS`文件中禁止使用`@import`导入`CSS`文件.
  - **【建议】** 文件首行加上`@charset "utf-8"`.

### 样式声明顺序

前面有一个点说严格按照定位属性和自身属性排列，这里详细说一下：

  - 定位属性(影响文档流): 定位 盒模型
  - 自身属性(不影响文档流): 印刷样式 图像样式

这样做的好处是非常明显的，规范并且快速定位`DOM`元素的位置和尺寸.

```css
.demo {
  /* 定位 */
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;

  /* 盒模型 */
  z-index: 2;
  display: block;
  float: right;
  width: 100px;
  height: 100px;
  line-height: 100px;

  /* 印刷样式 */
  font-family: "Helvetica Neue", sans-serif;
  font-size: 14px;
  font-weight: bold;
  color: #333;
  text-align: center;

  /* 图像样式 */
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 4px;
}
```

## JavaScript

### 风格

  - **【必须】** 使用`2`个空格作为缩进.
  - **【必须】** 字符串使用单引号连接.
  - **【必须】** 行尾必须使用分号结束.

### 其他

  - **【必须】** 避免使用`var`,使用`const`定义常量，使用`let`定义变量.
  - **【必须】** 不得使用`new Object()`创建对象，采用`let a = {}`的方式创建对象.
  - **【必须】** 使用解构的方式读取和使用对象中的多个属性，单个属性不得结构.
  - **【必须】** 使用模版变量的方式代替字符串连接.
